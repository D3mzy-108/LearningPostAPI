<nav class="w-full sm:w-2/6 lg:w-1/5 h-fit sm:h-screen sm:overflow-auto bg-[var(--bg2)] sticky top-0 z-50">
    <div class="w-full relative">
        <div class="w-full flex justify-between items-center md:mt-4 px-2">
            {% include 'partials/logo.html' %}
            <button id="navToggler"
                class="bg-transparent border-none outline-none px-2 text-2xl text-[var(--fg2)] grid place-items-center sm:hidden">
                <ion-icon name="menu"></ion-icon>
            </button>
        </div>
        <ul id="navbarNav"
            class="w-full pb-0 px-2 m-0 pt-24 sm:pt-6 bg-[var(--bg2)] flex flex-col gap-2 overflow-auto max-sm:absolute max-sm:-left-full max-sm:top-0 max-sm:-z-10 max-sm:h-screen">
            <li class="w-full py-3 px-4 flex gap-2 items-center rounded-md text-[var(--fg2)]">
                <div class="w-fit text-2xl">
                    <ion-icon name="grid-outline"></ion-icon>
                </div>
                <a href="#" class="flex-1 font-semibold">Dashboard</a>
            </li>
            <li class="w-full py-3 px-4 flex gap-2 items-center rounded-md text-[var(--fg2)]">
                <div class="w-fit text-2xl">
                    <ion-icon name="ribbon-outline"></ion-icon>
                </div>
                <a href="#" class="flex-1 font-semibold">Achievements</a>
            </li>
            <li class="w-full py-3 px-4 flex gap-2 items-center rounded-md text-[var(--fg2)]">
                <div class="w-fit text-2xl">
                    <ion-icon name="glasses-outline"></ion-icon>
                </div>
                <a href="#" class="flex-1 font-semibold">Akada</a>
            </li>
            <li class="w-full py-3 px-4 flex gap-2 items-center rounded-md text-[var(--fg2)]">
                <div class="w-fit text-2xl">
                    <ion-icon name="extension-puzzle-outline"></ion-icon>
                </div>
                <a href="{% url 'classifications' %}" class="flex-1 font-semibold">Classifications</a>
            </li>
            <li class="w-full py-3 px-4 flex gap-2 items-center rounded-md text-[var(--fg2)]">
                <div class="w-fit text-2xl">
                    <ion-icon name="library-outline"></ion-icon>
                </div>
                <a href="{% url 'library' %}" class="flex-1 font-semibold">Library</a>
            </li>
            <li class="w-full py-3 px-4 flex gap-2 items-center rounded-md text-[var(--fg2)]">
                <div class="w-fit text-2xl">
                    <ion-icon name="rocket-outline"></ion-icon>
                </div>
                <a href="{% url 'quests' %}" class="flex-1 font-semibold">Quests</a>
            </li>
            <li class="w-full py-3 px-4 flex gap-2 items-center rounded-md text-[var(--fg2)]">
                <div class="w-fit text-2xl">
                    <ion-icon name="people-outline"></ion-icon>
                </div>
                <a href="#" class="flex-1 font-semibold">Users</a>
            </li>
            <li class="w-full py-3 px-4 flex gap-2 items-center rounded-md text-[var(--fg2)]">
                <div class="w-fit text-2xl">
                    <ion-icon name="alert-circle-outline"></ion-icon>
                </div>
                <a href="{% url 'user_feedback' %}" class="flex-1 font-semibold">User Feedback</a>
                {% if ttl_unread_count > 0 %}
                <div class="h-fit px-[8px] py-[2px] text-[14px] bg-[var(--bg)] text-white font-bold rounded-full">
                    {{ttl_unread_count}}</div>
                {% endif %}
            </li>
            <li class="w-full py-3 px-4 flex gap-2 items-center rounded-md text-[var(--fg2)]">
                <div class="w-fit text-2xl">
                    <ion-icon name="log-out-outline"></ion-icon>
                </div>
                <a href="{% url 'logout' %}" class="flex-1 font-semibold">Logout</a>
            </li>
        </ul>
    </div>
</nav>

<style>
    #navbarNav {
        transition: 0.4s;
    }

    nav::-webkit-scrollbar-thumb {
        background: #00000030;
    }
</style>

<script>
    $('#navToggler').click(() => {
        $('#navbarNav').toggleClass('max-sm:-left-full max-sm:left-0')
    })

    var a = $('nav a')
    for (let i = 0; i < a.length; i++) {
        if (window.location.pathname.includes($(a[i]).attr('href'))) {
            $(a[i].parentElement).removeClass('text-[var(--fg2)] rounded-md').addClass('bg-white/10 text-[#FFF] border-l-[2px] border-l-[var(--highlight)]')
            //.addClass('bg-[var(--highlight)] text-[#FFF]')
        }
    }
</script>